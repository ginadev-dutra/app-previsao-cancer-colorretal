<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Previsão Câncer Colorretal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/x-icon" sizes="180x180" href="/static/img/favicon.ico">
    <style>
        .section {
            display: none;
        }
        .active {
            display: block;
        }
        .progress-step-completed {
            background-color: #7c3aed; /* violet-600 */
            color: #7c3aed;
        }
        .progress-step-current {
            border-color: #7c3aed; /* violet-600 */
        }
        .progress-step-current .inner-dot {
            background-color: #7c3aed; /* violet-600 */
        }

        /* --- ESTILOS CORRIGIDOS E SIMPLIFICADOS --- */

        /* 1. Estilo para o placeholder dos inputs (Idade, IMC) */
        ::placeholder {
          color: #9ca3af; /* Cinza (gray-400 do Tailwind) */
          opacity: 1; 
        }

        /* 2. Estilo para dropdowns quando o placeholder "Selecione..." estiver ativo */
        select:invalid {
            color: #9ca3af; /* Mesma cor cinza do placeholder */
        }

        /* 3. Garante que as opções na lista do dropdown sejam sempre pretas */
        option {
            color: #111827; /* Preto/Cinza escuro (gray-900 do Tailwind) */
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen flex flex-col">

    <header class="bg-white shadow-md sticky top-0 z-10 no-print">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <img src="/static/img/logo.png" alt="Logo" class="h-12 w-12">
                <h1 class="text-xl md:text-2xl font-semibold text-gray-700">Avaliador de Risco de Câncer Colorretal</h1>
            </div>
            <div>
                <button id="auto" type="button" onclick="fillFormWithRandomData()" class="bg-green-500 text-white font-bold py-2 px-4 rounded-md hover:bg-green-600 transition-colors duration-200">
                    Auto Preencher Teste
                </button>
            </div>
        </div>
    </header>

    <main class="flex-grow flex items-center justify-center p-6">
        <div class="w-full max-w-4xl bg-white shadow-lg rounded-lg p-8">
            <h1 class="text-3xl font-bold mb-6 text-center text-gray-800">Previsão de Câncer Colorretal</h1>

            <div class="flex justify-between items-center mb-8 px-4">
                <div class="flex-1 text-center">
                    <div id="step-indicator-1" class="w-8 h-8 mx-auto rounded-full flex items-center justify-center text-sm font-bold border-2 border-gray-300">1</div>
                    <p class="text-xs mt-1 text-gray-600">Demografia</p>
                </div>
                <div class="flex-1 text-center">
                    <div id="step-indicator-2" class="w-8 h-8 mx-auto rounded-full flex items-center justify-center text-sm font-bold border-2 border-gray-300">2</div>
                    <p class="text-xs mt-1 text-gray-600">Histórico Médico</p>
                </div>
                <div class="flex-1 text-center">
                    <div id="step-indicator-3" class="w-8 h-8 mx-auto rounded-full flex items-center justify-center text-sm font-bold border-2 border-gray-300">3</div>
                    <p class="text-xs mt-1 text-gray-600">Características</p>
                </div>
                <div class="flex-1 text-center">
                    <div id="step-indicator-4" class="w-8 h-8 mx-auto rounded-full flex items-center justify-center text-sm font-bold border-2 border-gray-300">4</div>
                    <p class="text-xs mt-1 text-gray-600">Prevenção</p>
                </div>
                <div class="flex-1 text-center">
                    <div id="step-indicator-5" class="w-8 h-8 mx-auto rounded-full flex items-center justify-center text-sm font-bold border-2 border-gray-300">5</div>
                    <p class="text-xs mt-1 text-gray-600">Estilo de Vida</p>
                </div>
                <div class="flex-1 text-center">
                    <div id="step-indicator-6" class="w-8 h-8 mx-auto rounded-full flex items-center justify-center text-sm font-bold border-2 border-gray-300">6</div>
                    <p class="text-xs mt-1 text-gray-600">Acesso à Saúde</p>
                </div>
                <div class="flex-1 text-center">
                    <div id="step-indicator-7" class="w-8 h-8 mx-auto rounded-full flex items-center justify-center text-sm font-bold border-2 border-gray-300">7</div>
                    <p class="text-xs mt-1 text-gray-600">Acompanhamento</p>
                </div>
            </div>
            <hr class="mb-8 border-gray-300">

            <form id="predictForm">

                <!--Seção 1. Demografia -->

                <div id="section-1" class="section active space-y-4">
                    <h2 class="text-xl font-semibold text-gray-700">1. Demografia</h2>
                    <div>
                        <label for="Age" class="block text-gray-700 font-semibold mb-1">Idade</label>
                        <input type="number" id="Age" name="Age" placeholder="Digite a idade" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
                    </div>
                    <div>
                        <label for="Gender" class="block text-gray-700 font-semibold mb-1">Gênero</label>
                        <select id="Gender" name="Gender" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Female">Feminino</option>
                            <option value="Male">Masculino</option>
                        </select>
                    </div>
                    <div>
                        <label for="Race" class="block text-gray-700 font-semibold mb-1">Raça</label>
                        <select id="Race" name="Race" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Asian">Asiática</option>
                            <option value="White">Branca</option>
                            <option value="Black">Negra</option>
                            <option value="Other">Outra</option>
                        </select>
                    </div>
                    <div>
                        <label for="Region" class="block text-gray-700 font-semibold mb-1">Região</label>
                        <select id="Region" name="Region" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Africa">África</option>
                            <option value="North America">América do Norte</option>
                            <option value="South America">América do Sul</option>
                            <option value="Asia">Ásia</option>
                            <option value="Europe">Europa</option>
                            <option value="Oceania">Oceania</option>
                        </select>
                    </div>
                    <div>
                        <label for="Urban_or_Rural" class="block text-gray-700 font-semibold mb-1">Urbano ou Rural</label>
                        <select id="Urban_or_Rural" name="Urban_or_Rural" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Rural">Rural</option>
                            <option value="Urban">Urbano</option>
                        </select>
                    </div>
                    <div>
                        <label for="Socioeconomic_Status" class="block text-gray-700 font-semibold mb-1">Status Socioeconômico</label>
                        <select id="Socioeconomic_Status" name="Socioeconomic_Status" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                        </select>
                    </div>
                    <div class="flex justify-end mt-4">
                        <button type="button" class="bg-indigo-500 text-white px-4 py-2 rounded" onclick="nextSection()">Próximo</button>
                    </div>
                </div>

                <!--Seção 2. Histórico Médico -->

                <div id="section-2" class="section space-y-4">
                    <h2 class="text-xl font-semibold text-gray-700">2. Histórico Médico</h2>
                    <div>
                        <label for="Family_History" class="block text-gray-700 font-semibold mb-1">Histórico Familiar</label>
                        <select id="Family_History" name="Family_History" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                        </select>
                    </div>
                    <div>
                        <label for="Previous_Cancer_History" class="block text-gray-700 font-semibold mb-1">Histórico de Câncer Prévio</label>
                        <select id="Previous_Cancer_History" name="Previous_Cancer_History" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                        </select>
                    </div>
                    <div class="flex justify-between mt-4">
                        <button type="button" class="bg-gray-400 text-white px-4 py-2 rounded" onclick="prevSection()">Voltar</button>
                        <button type="button" class="bg-indigo-500 text-white px-4 py-2 rounded" onclick="nextSection()">Próximo</button>
                    </div>
                </div>

                <!--Seção 3. Características do Câncer -->

                <div id="section-3" class="section space-y-4">
                    <h2 class="text-xl font-semibold text-gray-700">3. Características do Câncer</h2>
                    <div>
                        <label for="Stage_at_Diagnosis" class="block text-gray-700 font-semibold mb-1">Estágio no Diagnóstico</label>
                        <select id="Stage_at_Diagnosis" name="Stage_at_Diagnosis" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="I">I</option>
                            <option value="II">II</option>
                            <option value="III">III</option>
                            <option value="IV">IV</option>
                        </select>
                    </div>
                    <div>
                        <label for="Tumor_Aggressiveness" class="block text-gray-700 font-semibold mb-1">Agressividade do Tumor</label>
                        <select id="Tumor_Aggressiveness" name="Tumor_Aggressiveness" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Low">Baixa</option>
                            <option value="Medium">Média</option>
                            <option value="High">Alta</option>
                        </select>
                    </div>
                    <div class="flex justify-between mt-4">
                        <button type="button" class="bg-gray-400 text-white px-4 py-2 rounded" onclick="prevSection()">Voltar</button>
                        <button type="button" class="bg-indigo-500 text-white px-4 py-2 rounded" onclick="nextSection()">Próximo</button>
                    </div>
                </div>

                <!--Seção 4. Prevenção e Rastreamento -->

                <div id="section-4" class="section space-y-4">
                    <h2 class="text-xl font-semibold text-gray-700">4. Prevenção e Rastreamento</h2>
                    <div>
                        <label for="Colonoscopy_Access" class="block text-gray-700 font-semibold mb-1">Acesso à Colonoscopia</label>
                        <select id="Colonoscopy_Access" name="Colonoscopy_Access" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="No">Não</option>
                            <option value="Yes">Sim</option>
                        </select>
                    </div>
                    <div>
                        <label for="Screening_Regularity" class="block text-gray-700 font-semibold mb-1">Regularidade no Rastreamento</label>
                        <select id="Screening_Regularity" name="Screening_Regularity" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Regular">Regular</option>
                            <option value="Irregular">Irregular</option>
                            <option value="Never">Nunca</option>
                        </select>
                    </div>
                    <div class="flex justify-between mt-4">
                        <button type="button" class="bg-gray-400 text-white px-4 py-2 rounded" onclick="prevSection()">Voltar</button>
                        <button type="button" class="bg-indigo-500 text-white px-4 py-2 rounded" onclick="nextSection()">Próximo</button>
                    </div>
                </div>

                <!--Seção 5. Estilo de Vida -->

                <div id="section-5" class="section space-y-4">
                    <h2 class="text-xl font-semibold text-gray-700">5. Estilo de Vida</h2>
                    <div>
                        <label for="Diet_Type" class="block text-gray-700 font-semibold mb-1">Tipo de Dieta</label>
                        <select id="Diet_Type" name="Diet_Type" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Balanced">Balanceada</option>
                            <option value="Traditional">Tradicional</option>
                            <option value="Western">Ocidental</option>
                        </select>
                    </div>
                    <div>
                        <label for="BMI" class="block text-gray-700 font-semibold mb-1">Índice de Massa Corporal (IMC)</label>
                        <input type="number" step="0.1" id="BMI" name="BMI" placeholder="Digite o valor do IMC" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
                    </div>
                    <div>
                        <label for="Physical_Activity_Level" class="block text-gray-700 font-semibold mb-1">Nível de Atividade Física</label>
                        <select id="Physical_Activity_Level" name="Physical_Activity_Level" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Low">Baixo</option>
                            <option value="Medium">Médio</option>
                            <option value="High">Alto</option>
                        </select>
                    </div>
                    <div>
                        <label for="Smoking_Status" class="block text-gray-700 font-semibold mb-1">Status do Tabagismo</label>
                        <select id="Smoking_Status" name="Smoking_Status" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Never">Nunca</option>
                            <option value="Former">Ex-fumante</option>
                            <option value="Current">Atualmente</option>
                        </select>
                    </div>
                    <div>
                        <label for="Alcohol_Consumption" class="block text-gray-700 font-semibold mb-1">Consumo de Álcool</label>
                        <select id="Alcohol_Consumption" name="Alcohol_Consumption" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Low">Baixo</option>
                            <option value="Medium">Médio</option>
                            <option value="High">Alto</option>
                        </select>
                    </div>
                    <div>
                        <label for="Red_Meat_Consumption" class="block text-gray-700 font-semibold mb-1">Consumo de Carne Vermelha</label>
                        <select id="Red_Meat_Consumption" name="Red_Meat_Consumption" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Low">Baixo</option>
                            <option value="Medium">Médio</option>
                            <option value="High">Alto</option>
                        </select>
                    </div>
                    <div>
                        <label for="Fiber_Consumption" class="block text-gray-700 font-semibold mb-1">Consumo de Fibras</label>
                        <select id="Fiber_Consumption" name="Fiber_Consumption" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Low">Baixo</option>
                            <option value="Medium">Médio</option>
                            <option value="High">Alto</option>
                        </select>
                    </div>
                    <div class="flex justify-between mt-4">
                        <button type="button" class="bg-gray-400 text-white px-4 py-2 rounded" onclick="prevSection()">Voltar</button>
                        <button type="button" class="bg-indigo-500 text-white px-4 py-2 rounded" onclick="nextSection()">Próximo</button>
                    </div>
                </div>

                <!--Seção 6. Acesso à Saúde -->

                <div id="section-6" class="section space-y-4">
                    <h2 class="text-xl font-semibold text-gray-700">6. Acesso à Saúde</h2>
                    <div>
                        <label for="Insurance_Coverage" class="block text-gray-700 font-semibold mb-1">Cobertura de Seguro</label>
                        <select id="Insurance_Coverage" name="Insurance_Coverage" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="No">Não</option>
                            <option value="Yes">Sim</option>
                        </select>
                    </div>
                    <div>
                        <label for="Time_to_Diagnosis" class="block text-gray-700 font-semibold mb-1">Tempo até Diagnóstico</label>
                        <select id="Time_to_Diagnosis" name="Time_to_Diagnosis" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Delayed">Atrasado</option>
                            <option value="Timely">Em tempo</option>
                        </select>
                    </div>
                    <div>
                        <label for="Treatment_Access" class="block text-gray-700 font-semibold mb-1">Acesso ao Tratamento</label>
                        <select id="Treatment_Access" name="Treatment_Access" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Good">Bom</option>
                            <option value="Limited">Limitado</option>
                        </select>
                    </div>
                    <div class="flex justify-between mt-4">
                        <button type="button" class="bg-gray-400 text-white px-4 py-2 rounded" onclick="prevSection()">Voltar</button>
                        <button type="button" class="bg-indigo-500 text-white px-4 py-2 rounded" onclick="nextSection()">Próximo</button>
                    </div>
                </div>

                <!--Seção 7. Acompanhamento -->

                <div id="section-7" class="section space-y-4">
                    <h2 class="text-xl font-semibold text-gray-700">7. Acompanhamento</h2>
                    <div>
                        <label for="Follow_Up_Adherence" class="block text-gray-700 font-semibold mb-1">Adesão ao Seguimento</label>
                        <select id="Follow_Up_Adherence" name="Follow_Up_Adherence" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Good">Boa</option>
                            <option value="Poor">Ruim</option>
                        </select>
                    </div>
                    <div>
                        <label for="Recurrence" class="block text-gray-700 font-semibold mb-1">Recorrência</label>
                        <select id="Recurrence" name="Recurrence" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                        </select>
                    </div>
                    <div>
                        <label for="Time_to_Recurrence" class="block text-gray-700 font-semibold mb-1">Tempo até Recorrência</label>
                        <select id="Time_to_Recurrence" name="Time_to_Recurrence" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Selecione uma opção</option>
                            <option value="Early">Precoce</option>
                            <option value="Late">Tardia</option>
                        </select>
                    </div>
                    <div class="flex justify-between mt-4">
                        <button type="button" class="bg-gray-400 text-white px-4 py-2 rounded" onclick="prevSection()">Voltar</button>
                        <button type="submit" class="bg-indigo-600 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors duration-200">
                            Enviar
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-6 py-10">
            <div class="flex flex-col items-center text-center">
                <div class="text-sm text-gray-400 max-w-2xl">
                    <strong>Aviso Legal:</strong> Este formulário é uma ferramenta de simulação para fins puramente acadêmicos. Os resultados gerados não constituem um diagnóstico médico e não devem ser usados para decisões clínicas.
                </div>
                <p class="mt-8 text-sm text-gray-300">
                    Um projeto desenvolvido pelos alunos de Sistemas de Informação PUC Minas.
                </p>
                <p class="mt-2 text-xs text-gray-500">
                    &copy; 2025 Plataforma de Previsão. Todos os direitos reservados.
                </p>
            </div>
        </div>
    </footer>

    <script src="/static/js/progress.js"></script>
    <script src="/static/js/form-handler.js"></script>
    <script src="/static/js/automatic.js"></script>

</body>
</html>